<!-- Header -->
<header class="navbar navbar-dark bg-dark px-3 sticky-top d-flex justify-content-between align-items-center">
  <div class="d-flex align-items-center gap-2">
    <!-- Burger visible partout -->
    <button class="btn btn-outline-light" (click)="toggleSidebar()">☰</button>
    <a class="navbar-brand fw-semibold mb-0" routerLink="/">Softcar Map Parser</a>
  </div>

  <!-- Fichier courant -->
  <div class="text-light small">
    <span class="me-2">Fichier:</span>
    <span class="badge text-bg-info" *ngIf="(fileName$ | async) as f; else nofile">{{ f }}</span>
    <ng-template #nofile><span class="badge text-bg-secondary">Aucun</span></ng-template>
  </div>
</header>

<!-- Backdrop (mobile) -->
<div class="app-backdrop d-md-none" *ngIf="sidebarOpen" (click)="closeSidebar()"></div>

<!-- Layout -->
<div class="app-layout" [class.sidebar-open]="sidebarOpen">
  <!-- Sidebar (desktop + mobile) -->
  <aside class="app-sidebar bg-light border-end">
    <ul class="nav nav-pills flex-column gap-1 p-3">
      <li class="nav-item">
        <a routerLink="/" routerLinkActive="active" class="nav-link" >🏠 Accueil</a>
      </li>
      <li class="nav-item">
        <a routerLink="/resume" routerLinkActive="active" class="nav-link" >🧾 Résumé</a>
      </li>
      <li class="nav-item">
        <a routerLink="/detail" routerLinkActive="active" class="nav-link" >🔍 Détail</a>
      </li>
    </ul>
  </aside>

  <!-- Contenu -->
  <main class="app-content p-3">
    <router-outlet />
  </main>
</div>
